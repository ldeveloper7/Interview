<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Interview Assessment- LaNet Team Software Solution Pvt. Ltd.</title>
	<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
	<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
	<link rel="stylesheet" href="//gitcdn.github.io/bootstrap-toggle/2.2.2/css/bootstrap-toggle.min.css">
	<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/jquery.bootstrapvalidator/0.5.0/css/bootstrapValidator.min.css">
	<link rel="icon" href="/img/favicon.ico" type="image/x-icon" >
	<style type="text/css">
		.form-control {
			color: #000000;
		}
		.family-details-table .input-group:not(:last-child){
			margin-bottom: 10px;
		}
		.fa {
			font-size: 14px;
			width: 15px;
		}
		.form-horizontal .has-feedback .form-control-feedback {
			top:8px;
			height: auto;
		}
		.header-section {
			width: 100%;
			margin:30px auto 40px;
			text-align: center;
			display: block;
		}
		legend { text-align: center; font-size: 24px; }

	</style>
</head>
<body>
<div class="container">

	<form class="well form-horizontal" action="/api/user" method="post"  id="contact_form">
		<div class="header-section">
			<img src="/img/logo_lanetteam_final-1.png" width="200" />
		</div>

		<fieldset>

			<!-- Form Name -->
			<legend>Interview Assessment</legend>

			<!-- Text input-->

			<div class="form-group">
				<label class="col-md-4 control-label">Date:</label>
				<div class="col-md-4 inputGroupContainer">
					<div class="input-group">
						<span class="input-group-addon"><i class="fa fa-calendar"></i></span>
						<input  name="date" id="date" placeholder="Date" class="form-control"  type="text"  required readonly>
					</div>
				</div>
			</div>

			<div class="form-group">
				<label class="col-md-4 control-label">Name:</label>
				<div class="col-md-4 inputGroupContainer">
					<div class="input-group">
						<span class="input-group-addon"><i class="fa fa-user"></i></span>
						<input  name="name" placeholder="Name" class="form-control"  type="text" required>
					</div>
				</div>
			</div>


			<!-- Text input-->
			<div class="form-group">
				<label class="col-md-4 control-label">E-Mail</label>
				<div class="col-md-4 inputGroupContainer">
					<div class="input-group">
						<span class="input-group-addon"><i class="fa fa-envelope"></i></span>
						<input name="email" placeholder="E-Mail Address" class="form-control"  type="text">
					</div>
				</div>
			</div>


			<!-- Text input-->

			<div class="form-group">
				<label class="col-md-4 control-label">Phone #</label>
				<div class="col-md-4 inputGroupContainer">
					<div class="input-group">
						<span class="input-group-addon"><i class="fa fa-phone"></i></span>
						<input name="phone" placeholder="(845)555-1212" class="form-control" type="text">
					</div>
				</div>
			</div>

			<!-- Text input-->

			<div class="form-group">
				<label class="col-md-4 control-label">Address</label>
				<div class="col-md-4 inputGroupContainer">
					<div class="input-group">
						<span class="input-group-addon"><i class="fa fa-home"></i></span>
						<input name="address" placeholder="Address" class="form-control" type="text">
					</div>
				</div>
			</div>

			<!-- Text input-->

			<div class="form-group">
				<label class="col-md-4 control-label">Notice Period is required for joining?</label>
				<div class="col-md-4">
					<div class="radio">
						<input id="noticeRequired" type="checkbox" name="noticeRequired">
					</div>
				</div>
			</div>

			<div class="form-group" id="requiredDaysContainer" style="display: none">
				<label class="col-md-4 control-label">Before Days</label>
				<div class="col-md-4 inputGroupContainer">
					<div class="input-group">
						<span class="input-group-addon"><i class="fa fa-clock-o"></i></span>
						<input name="requiredDaysForJoin" placeholder="Days Required for joining" class="form-control"  type="text">
					</div>
				</div>
			</div>

			<div class="form-group">
				<label class="col-md-4 control-label">Have you been interviewed by us before?</label>
				<div class="col-md-4">
					<div class="radio">
						<input id="isInterviewedBefore" type="checkbox" name="isInterviewedBefore">
					</div>
				</div>
			</div>

			<!-- Text input-->

			<div class="form-group">
				<label class="col-md-4 control-label">Percentage of marks</label>
				<div class="col-md-4 inputGroupContainer">
					<div class="input-group">
						<span class="input-group-addon"><i class="fa fa-percent"></i></span>
						<input name="percentage" placeholder="% of marks on MSC/MCA" class="form-control"  type="text">
					</div>
				</div>
			</div>

			<!-- Text input-->

			<div class="form-group">
				<label class="col-md-4 control-label">Applied for technology</label>
				<div class="col-md-4 inputGroupContainer">
					<div class="input-group">
						<span class="input-group-addon"><strong><i class="fa fa-code"></i></strong></span>
						<input name="technology" placeholder="Technology" class="form-control"  type="text">
					</div>
				</div>
			</div>

			<div class="form-group">
				<label class="col-md-4 control-label">Experience</label>
				<div class="col-md-4">
					<input id="isExperience" checked type="checkbox" name="isExperience">
				</div>
			</div>


			<div id="isExp">
				<!-- Text input-->
				<div class="form-group">
					<label class="col-md-4 control-label">Current/Previous company name</label>
					<div class="col-md-4 inputGroupContainer">
						<div class="input-group">
							<span class="input-group-addon"><i class="fa fa-globe"></i></span>
							<input name="previousCompany" placeholder="Current/Previous company name" class="form-control" type="text">
						</div>
					</div>
				</div>

				<!-- Text input-->
				<div class="form-group">
					<label class="col-md-4 control-label">Current CTC</label>
					<div class="col-md-4 inputGroupContainer">
						<div class="input-group">
							<span class="input-group-addon"><i class="fa fa-inr"></i></span>
							<input name="currentCTC" placeholder="Current CTC" class="form-control" type="text">
						</div>
					</div>
				</div> <!-- Text input-->
				<div class="form-group">
					<label class="col-md-4 control-label">Expected Salary</label>
					<div class="col-md-4 inputGroupContainer">
						<div class="input-group">
							<span class="input-group-addon"><i class="fa fa-inr"></i></span>
							<input name="expectedSalary" placeholder="Expected Salary" class="form-control" type="text">
						</div>
					</div>
				</div>
			</div>

			<div class="form-group">
				<label class="col-md-4 control-label">Family Details</label>
				<div class="col-md-7">
					<div class="table-responsive">
						<table class="table table-condensed table-bordered family-details-table">
							<thead>
							<tr>
								<th>&nbsp;</th>
								<th>Name</th>
								<th>Occupation</th>
							</tr>
							</thead>
							<tbody>
							<tr>
								<th>Father</th>
								<td>
									<input type="text" name="fatherName" class="form-control" placeholder="Father name" />
								</td>
								<td>
									<input type="text" name="fatherOccupation" class="form-control" placeholder="Occupation" />
								</td>
							</tr>
							<tr>
								<th>Mother</th>
								<td>
									<input type="text" name="motherName" class="form-control" placeholder="Mother name" />
								</td>
								<td>
									<input type="text" name="motherOccupation" class="form-control" placeholder="Occupation" />
								</td>
							</tr>
							<tr>
								<th>Siblings</th>
								<td rowspan="2">
									<div class="input-group">
										<span class="input-group-addon">1.</span>
										<input type="text" class="form-control" name="siblings1" placeholder="Name"/>
									</div>
									<div class="input-group">
										<span class="input-group-addon">2.</span>
										<input type="text" class="form-control" name="siblings2" placeholder="Name"/>
									</div>
									<!--<div class="input-group">-->
										<!--<span class="input-group-addon">3.</span>-->
										<!--<input type="text" class="form-control" name="siblings3" placeholder="Name"/>-->
									<!--</div>-->
									<!--<div class="input-group">-->
										<!--<span class="input-group-addon">4.</span>-->
										<!--<input type="text" class="form-control" name="siblings4" placeholder="Name"/>-->
									<!--</div>-->
									<!--<div class="input-group">-->
										<!--<span class="input-group-addon">5.</span>-->
										<!--<input type="text" class="form-control" name="siblings5" placeholder="Name"/>-->
									<!--</div>-->
								</td>
								<td>&nbsp;</td>
							</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>

			<div class="form-group">
				<label class="col-md-4 control-label">Reference</label>
				<div class="col-md-4 inputGroupContainer">
					<div class="input-group">
						<span class="input-group-addon"><i class="fa fa-user"></i></span>
						<input name="reference" placeholder="Reference" class="form-control" type="text">
					</div>
				</div>
			</div>

			<div class="forAdmin" style="display: none;">
				<div class="form-group">
					<label class="col-md-4 control-label">Result of interview</label>
					<div class="col-md-4 inputGroupContainer">
						<div class="input-group">
							<span class="input-group-addon"><i class="fa fa-bar-chart"></i></span>
							<input name="result" placeholder="Results" class="form-control" type="text">
						</div>
					</div>
				</div>

				<div class="form-group">
					<label class="col-md-4 control-label">Any other remarks</label>
					<div class="col-md-4 inputGroupContainer">
						<textarea class="form-control" name="anyOtherRemarks" placeholder="Any other remarks"></textarea>
					</div>
				</div>

			</div>

			<!-- Success message -->
			<div class="alert alert-success" role="alert" id="success_message" style="display: none;">Success <i class="fa fa-thumbs-up"></i> Thanks for contacting us, we will get back to you shortly.</div>

			<!-- Button -->
			<div class="form-group forUser">
				<label class="col-md-4 control-label"></label>
				<div class="col-md-4">
					<button type="submit" name="validate" id="validate" class="btn btn-success">Submit <span class="fa fa-check"></span></button>
				</div>
			</div>
			<!-- Button -->
			<div class="form-group forAdmin" style="display: none">
				<label class="col-md-4 control-label"></label>
				<div class="col-md-4">
					<button type="submit" id="approved" value="Approved" class="btn btn-success">Approve <span class="fa fa-check"></span></button>
					<button type="submit" id="reject" value="Reject" class="btn btn-danger">Reject <span class="fa fa-close"></span></button>
				</div>
			</div>

		</fieldset>
	</form>
</div><!-- /.container -->
</body>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-validator/0.4.5/js/bootstrapvalidator.min.js"></script>
<script src="https://gitcdn.github.io/bootstrap-toggle/2.2.2/js/bootstrap-toggle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootbox.js/4.4.0/bootbox.js"></script>
<script>
	format = function date2str(x, y) {
		var z = {
			M: x.getMonth() + 1,
			d: x.getDate(),
			h: x.getHours(),
			m: x.getMinutes(),
			s: x.getSeconds()
		};
		y = y.replace(/(M+|d+|h+|m+|s+)/g, function(v) {
			return ((v.length > 1 ? "0" : "") + eval('z.' + v.slice(-1))).slice(-2)
		});

		return y.replace(/(y+)/g, function(v) {
			return x.getFullYear().toString().slice(-v.length)
		});
	};

	$(document).ready(function() {
		var status='';
		var isAdmin=false;
		$('#approved, #reject').on('click', function(e){
			status=$(this).attr('value');
		})
		$('#date').val(format(new Date(), 'yyyy-MM-dd'));
		$('#noticeRequired').bootstrapToggle({
			onstyle: 'success',
			offstyle: 'warning',
			on: 'Yes',
			off: 'No',
			size: 'small'
		});
		$('#isInterviewedBefore').bootstrapToggle({
			onstyle: 'success',
			offstyle: 'warning',
			on: 'Yes',
			off: 'No',
			size: 'small'
		});
		$('#isExperience').bootstrapToggle({
			onstyle: 'success',
			offstyle: 'warning',
			on: 'Yes',
			off: 'No',
			size: 'small'
		});

		$('#isExperience').change(function() {
			$('input[name="previousCompany"], input[name="expectedSalary"], input[name="currentCTC"]').val('');
			if($(this).prop('checked')){
				$('#isExp').slideDown();
			} else{ $('#isExp').slideUp(); }
		});

		$('#noticeRequired').change(function() {
			$('input[name="requiredDaysForJoin"]').val('');
			if($(this).prop('checked')){
				$('#requiredDaysContainer').slideDown();
			} else{ $('#requiredDaysContainer').slideUp(); }
		});


		$('#contact_form').bootstrapValidator({
			// To use feedback icons, ensure that you use Bootstrap v3.1.0 or later
			feedbackIcons: {
				valid: 'fa fa-ok',
				invalid: 'fa fa-remove',
				validating: 'fa fa-refresh'
			},
			fields: {
				name: {
					validators: {
						stringLength: {
							min: 2,
						},
						notEmpty: {
							message: 'Please supply your name'
						}
					}
				},
				email: {
					validators: {
						notEmpty: {
							message: 'Please supply your email address'
						},
						emailAddress: {
							message: 'Please supply a valid email address'
						}
					}
				},
				phone: {
					validators: {
						notEmpty: {
							message: 'Please supply your phone number'
						},
						phone: {
							country: 'US',
							message: 'Please supply a vaild phone number with area code'
						}
					}
				},
				address: {
					validators: {
						stringLength: {
							min: 8,
						},
						notEmpty: {
							message: 'Please supply your street address'
						}
					}
				},
				percentage: {
					validators: {
						stringLength: {
							min: 2,
						},
						notEmpty: {
							message: 'Please add percentage'
						}
					}
				},
				technology: {
					validators: {
						notEmpty: {
							message: 'Please add interested technology'
						}
					}
				}
			}
		});
				/*.on('success.form.bv', function(e) {
					alert('fdfdfd');
					$('#success_message').slideDown({ opacity: "show" }, "slow") // Do something ...
					$('#contact_form').data('bootstrapValidator').resetForm();

					// Prevent form submission
					e.preventDefault();

					// Get the form instance
					var $form = $(e.target);

					// Get the BootstrapValidator instance
					var bv = $form.data('bootstrapValidator');

					// Use Ajax to submit form data
					/!*$.post($form.attr('action'), $form.serialize(), function(result) {
						console.log(result);
					}, 'json');
					debugger;
					return false;*!/
				});
*/
		var formSubmited=false;
		$("#contact_form").on('submit', function(e){
			e.preventDefault();
			e.stopPropagation();

			if(!$('.has-error').length && !formSubmited){
				formSubmited=true;
				if(isAdmin){
					var $form = $(e.target);

					$.post($form.attr('action'), ($form.serialize()+'&'+$.param({ 'status': status })), function(result) {
					}, 'json').done(function(res){
						if(res.success){
							bootbox.alert("Record added successfully", function(){
								location.reload();
							});
						}else{
							formSubmited=false;
							$('#approved, #reject, #validate').removeAttr('disabled');
						}
					});
				}
				else{
					isAdmin=false;
					e.preventDefault();
					bootbox.prompt({
						title: "Enter admin password",
						inputType: 'password',
						callback: function (result) {
							$.post('/api/admin',$.param({password:result})).done(function(res){
								console.log('AAA',res);
								formSubmited=false;
								if(res.success){
									isAdmin=res.success;
									$('.forUser').hide();
									$('.forAdmin').show();
									$('#approved, #reject').removeAttr('disabled');
									$('#approved, #reject, #validate').removeAttr('disabled');
									$('input[name="result"]').focus();
								}
								else{
									$('#approved, #reject, #validate').removeAttr('disabled');
									isAdmin=false;
									bootbox.alert("You are unauthorize to perform this action", function(){

									});
								}
							})
						}
					});
				}

			}
		});
	});


</script>
</html>